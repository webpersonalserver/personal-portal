import{S as Z,P as ee,W as ne,B as te,C as e,F as L,a as ae,b as oe,c as ie}from"./three.module-DH32k5fD.js";import{_ as q,r as j,a as fe,n as re,b as se,c as A,o as H,d as z,F as ce,e as le,f as de,g as we}from"./index-R482XvB_.js";const xe={class:"floating-hearts"},he={__name:"HeartParticles",setup(Y){const C=j(),x=j();let k,v,l,m,T,$,y,b,p,M,d=1,S=[],I=null,F=null,W=0;fe(()=>{re(()=>{D(),V()})}),se(()=>{cancelAnimationFrame(T),F&&cancelAnimationFrame(F),b?.dispose(),y?.dispose(),l?.dispose(),window.removeEventListener("resize",G)});function B(){return d=2*Math.tan(75*Math.PI/360)*4.5*.99/32,d=d*1.65,d}function D(){if(!C.value){console.error("Container not ready");return}k=new Z,v=new ee(75,window.innerWidth/window.innerHeight,.1,1e3),v.position.z=4.5,B(),console.log("Base scale:",d),l=new ne({antialias:!0,alpha:!0}),l.setSize(window.innerWidth,window.innerHeight),l.domElement.style.position="absolute",l.domElement.style.top="0",l.domElement.style.left="0",l.domElement.style.zIndex="10",l.domElement.style.pointerEvents="none",l.domElement.style.width="100%",l.domElement.style.height="100%",C.value.appendChild(l.domElement),b=new te;const o=[],a=[];M=[],p=[];const r=7e3,i=[new e(16724838),new e(16717636),new e(16739229),new e(16728193),new e(15277667),new e(16056407),new e(16757721),new e(16761035),new e(16717636),new e(16732754),new e(16747136),new e(13840175),new e(16007990),new e(13538264),new e(12216520),new e(11225020),new e(10233776),new e(8069026),new e(16750592),new e(16740096),new e(16758605),new e(16754470),new e(16771899),new e(16761095),new e(16766287),new e(2201331),new e(1668818),new e(6600182),new e(4367861),new e(48340),new e(38823),new e(5099745),new e(5025616),new e(3706428),new e(8505220),new e(6732650),new e(10868391),new e(16739229),new e(16728193),new e(15277667),new e(16716947),new e(16738740),new e(16758465),new e(16761035),new e(16748964),new e(12915042),new e(16717636),new e(16739584),new e(6953882),new e(9315498),new e(11141375),new e(13538264),new e(16739584),new e(16748800),new e(16755520),new e(16766464),new e(16771584),new e(16773494),new e(870305),new e(1402304),new e(9489145),new e(12312315),new e(24676),new e(33679),new e(8445674),new e(16717636),new e(16740096),new e(16771899),new e(5025616),new e(48340),new e(2201331),new e(10233776),new e(16752328),new e(16747720),new e(16744120),new e(16740264),new e(16735384),new e(16727386),new e(16723274),new e(16719162),new e(16715050),new e(9795021),new e(7964363),new e(6056896),new e(4149685),new e(16764032),new e(16758605),new e(16754470),new e(16750592),new e(16774557),new e(16773494),new e(16772696),new e(16771899),new e(4492031),new e(2718207),new e(2712319),new e(3166206),new e(2541274),new e(44225),new e(38823),new e(8505220),new e(6732650),new e(5025616),new e(4431943),new e(16739179),new e(16748115),new e(16754470),new e(16763906),new e(2533018),new e(35195),new e(26972),new e(15483002),new e(11225020),new e(8280002),new e(6174129),new e(3754411)];for(let f=0;f<r;f++){const c=Math.random()*Math.PI*2,h=Math.sqrt(Math.random()),_=Math.sin(c),J=16*Math.pow(_,3),K=13*Math.cos(c)-5*Math.cos(2*c)-2*Math.cos(3*c)-Math.cos(4*c),O=J*h,Q=K*h,X=(Math.random()-.5)*1.2,E=d;o.push(O*E,(Q-1.5)*E,X*E*.8);const g=i[Math.floor(Math.random()*i.length)];p.push(g.r,g.g,g.b),a.push(g.r,g.g,g.b),M.push(.5+Math.random()*1.5)}b.setAttribute("position",new L(o,3));const n=new L(a,3);b.setAttribute("color",n);const w=.045,s=Math.min(window.innerWidth/1920,1.5),t=w*s;y=new ae({size:t,transparent:!0,opacity:1,vertexColors:!0,sizeAttenuation:!0}),m=new oe(b,y),k.add(m),console.log("Particles created:",r),console.log("Point size:",t),console.log("Points scale:",d),$=new ie,window.addEventListener("resize",G),N()}function N(){if(!x.value)return;const o=x.value;o.width=window.innerWidth,o.height=window.innerHeight,I=o.getContext("2d"),S=[],W=Date.now(),R()}function U(){const o=[["#ff3366","#ff6b9d","#ffb3d9","#ffc0cb"],["#ff1744","#ff5252","#ff8a80","#ffcdd2"],["#e91e63","#f50057","#ff4081","#f8bbd0"],["#ce93d8","#ba68c8","#ab47bc","#e1bee7"],["#ff6b9d","#ff4081","#ff1744","#ffb3d9"],["#ff9800","#ff6f00","#ffb74d","#ffe0b2"],["#ffeb3b","#ffc107","#ffd54f","#fff9c4"],["#2196f3","#1976d2","#64b5f6","#bbdefb"],["#00bcd4","#0097a7","#4dd0e1","#b2ebf2"],["#4caf50","#388e3c","#81c784","#c8e6c9"],["#c2185b","#880e4f","#e91e63","#f48fb1"],["#7b1fa2","#6a1b9a","#9c27b0","#ce93d8"],["#ff3366","#ff9800","#ffeb3b","#4caf50"],["#ff1744","#ff6b00","#ffc107","#ff6b9d"],["#2196f3","#00bcd4","#4caf50","#9c27b0"]],a=Math.random()*window.innerWidth,r=window.innerHeight*.15+Math.random()*(window.innerHeight*.35),i=o[Math.floor(Math.random()*o.length)],n=-12-Math.random()*8;S.push({x:a,y:window.innerHeight,targetY:r,vx:(Math.random()-.5)*2,vy:n,prevVy:n,particles:[],exploded:!1,colorSet:i,mainColor:i[0],flashTime:0,trail:[]})}function u(o,a){const r=parseInt(o.slice(1,3),16),i=parseInt(o.slice(3,5),16),n=parseInt(o.slice(5,7),16);return`rgba(${r}, ${i}, ${n}, ${a})`}function P(o,a,r,i,n,w){o.save();const s=o.createRadialGradient(a,r,0,a,r,i*2);s.addColorStop(0,u(n,w)),s.addColorStop(.5,u(n,w*.5)),s.addColorStop(1,u(n,0)),o.fillStyle=s,o.beginPath(),o.arc(a,r,i*2,0,Math.PI*2),o.fill(),o.fillStyle=u(n,w),o.beginPath(),o.arc(a,r,i*.5,0,Math.PI*2),o.fill(),o.restore()}function R(){if(!I||!x.value)return;const o=x.value,a=I;a.fillStyle="rgba(26, 26, 46, 0.2)",a.fillRect(0,0,o.width,o.height);const r=Date.now();if(r-W>1500+Math.random()*1500){const i=1+Math.floor(Math.random()*4);for(let n=0;n<i;n++)U();W=r}for(let i=S.length-1;i>=0;i--){const n=S[i];if(n.exploded){if(n.flashTime>0){a.save();const s=n.flashTime/3*.6,t=a.createRadialGradient(n.x,n.y,0,n.x,n.y,80);t.addColorStop(0,"rgba(255, 255, 255, "+s+")"),t.addColorStop(.3,u(n.mainColor,s*.5)),t.addColorStop(1,u(n.mainColor,0)),a.fillStyle=t,a.beginPath(),a.arc(n.x,n.y,80,0,Math.PI*2),a.fill(),a.restore(),n.flashTime--}let w=!1;for(let s=n.particles.length-1;s>=0;s--){const t=n.particles[s];if(t.x+=t.vx,t.y+=t.vy,t.vy+=.12,t.vx*=.985,t.vy*=.985,t.life-=t.decay,t.trail.push({x:t.x,y:t.y}),t.trail.length>4&&t.trail.shift(),t.life>0){w=!0,a.save();for(let f=0;f<t.trail.length;f++){const c=t.trail[f],h=f/t.trail.length*t.life*.6,_=t.size*(1-f/t.trail.length)*t.life;P(a,c.x,c.y,_,t.color,h)}P(a,t.x,t.y,t.size*t.life,t.color,t.life),a.restore()}else n.particles.splice(s,1)}!w&&n.flashTime<=0&&S.splice(i,1)}else{const w=n.vy;n.x+=n.vx,n.y+=n.vy,n.vy+=.2,n.trail.push({x:n.x,y:n.y,opacity:1,size:3}),n.trail.length>12&&n.trail.shift(),a.save();for(let t=0;t<n.trail.length;t++){const f=n.trail[t],c=t/n.trail.length*.9,h=f.size*(1-t/n.trail.length);P(a,f.x,f.y,h,n.mainColor,c)}if(P(a,n.x,n.y,5,n.mainColor,1),a.restore(),n.y<=n.targetY||w<0&&n.vy>=0||n.vy>.5){n.exploded=!0,n.flashTime=3;const t=50+Math.random()*30;for(let f=0;f<t;f++){const c=Math.PI*2*f/t+(Math.random()-.5)*.8,h=3+Math.random()*5,_=Math.floor(Math.random()*n.colorSet.length);n.particles.push({x:n.x,y:n.y,vx:Math.cos(c)*h,vy:Math.sin(c)*h,life:1,decay:.012+Math.random()*.008,size:2.5+Math.random()*3.5,color:n.colorSet[_],trail:[]})}}}}F=requestAnimationFrame(R)}function G(){if(v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight),B(),m&&(m.scale.x/(d||1),m.scale.set(d,d,d),y)){const a=Math.min(window.innerWidth/1920,1.5);y.size=.045*a}x.value&&(x.value.width=window.innerWidth,x.value.height=window.innerHeight)}function V(){T=requestAnimationFrame(V);const o=$.getElapsedTime(),a=1+.05*Math.sin(o*2.5),r=d*a;if(m.scale.set(r,r,r),b&&p&&M){const i=b.attributes.color.array;for(let n=0;n<M.length;n++){const w=M[n],s=Math.sin(o*w*3)*.5+.5,t=.7+Math.pow(s,.7)*.5,f=n*3,c=s*.3;i[f]=p[f]*t+c,i[f+1]=p[f+1]*t+c,i[f+2]=p[f+2]*t+c}b.attributes.color.needsUpdate=!0}l.render(k,v)}return(o,a)=>(H(),A("div",{ref_key:"container",ref:C,class:"heart-container"},[z("div",xe,[(H(),A(ce,null,le(20,r=>z("span",{key:r,class:"floating-heart",style:de({left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,fontSize:`${15+Math.random()*10}px`})}," â¤ï¸ ",4)),64))]),z("canvas",{ref_key:"rainCanvas",ref:x,class:"rain-canvas"},null,512),a[0]||(a[0]=z("div",{class:"romantic-text"},"Love You Forever ðŸ’•",-1))],512))}},be=q(he,[["__scopeId","data-v-c2e535e8"]]),me={class:"portal-pages-heart-container"},pe={__name:"Heart",setup(Y){return(C,x)=>(H(),A("div",me,[we(be)]))}},ve=q(pe,[["__scopeId","data-v-f54242e0"]]);export{ve as default};
